<%- include("../partials/header") %>

<div class="main-body">
    <div class="element">
        <h2>Edit <%= foundUser.preferredName %></h2>
        <form method="POST" action="/user/<%= foundUser._id %>?_method=PUT">
            <div class="flex-form">
                <div class="flex-row">
                    <label for="username">Preferred Name:</label>
                    <input id="username" type="text" name="user[preferredName]" placeholder="my_preferred_name" value="<%= foundUser.preferredName %>" required>
                </div>
                <div class="flex-row">
                    <label for="email_address">Email Address:</label>
                    <input id="email_address" type="email" name="user[username]" placeholder="my_email_address" value="<%= foundUser.username %>" required>
                </div>
                
                <div class="flex-row">
                    <label for="occupation">Occupation:</label>
                    <select name="user[occupation]" id="occupation" required>
                        <option value="<%= foundUser.occupation %>" selected><%= foundUser.occupation %></option>
                        <option value="Manager(General)">General Manager</option>
                        <option value="Manager(Mine)">Mine Manager</option>
                        <option value="Manager(MRM)">MRM Manager</option>
                        <option value="Engineer(Mine)">Engineer (Mine)</option>
                        <option value="Manager(Rock_Eng)">Rock Engineer</option>
                        <option value="Manager(Production)">Production Manager</option>
                        <option value="Geologist(Chief)">Geologist (Chief)</option>
                        <option value="Mine_Overseer">Mine Overseer</option>
                        <option value="GES">GES</option>
                        <option value="Geologist(Snr)">Geologist (Snr)</option>
                        <option value="Geologist">Geologist</option>
                        <option value="SCO">SCO</option>
                        <option value="Planner(Mine)">Mine Planner</option>
                        <option value="Supervisor(Shift)">Shift Supervisor</option>
                        <option value="Miner">Miner</option>
                        <option value="Operator(Control Room)">Operator(Control Room)</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="flex-row">
                    <label for="department">Department:</label>
                    <select name="user[department]" id="department" required>
                        <option value="<%= foundUser.department %>" selected><%= foundUser.department %></option>
                        <option value="Safety">Safety</option>
                        <option value="Engineering">Engineering</option>
                        <option value="MRM">MRM</option>
                        <option value="Mining">Mining</option>
                        <option value="Ventilation">Ventilation</option>
                        <option value="Ventilation">HR</option>
                    </select>
                </div>
                <div class="flex-row">
                    <label for="admin">Admin Code: <sup>*</sup></label>
                    <input id="admin" type="text" name="user[admin]" placeholder="admin_code" autocomplete="off">
                </div>
                <div class="flex-row">
                    <p>
                        <sub>* if applicale. Otherwise leave blank</sub>
                    </p>
                </div>
                <div class="flex-row">
                    <input type="submit" value="Update">
                </div>
            </div>
        </form>

        <div>
            <a href="/user/<%= foundUser._id %>">&#11013 Back</a>
        </div>
    </div>
</div>

<%- include("../partials/sidebar") %>
<%- include("../partials/footer") %>